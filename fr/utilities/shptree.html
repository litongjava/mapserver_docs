<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>shptree &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="Utilitaires" href="index.html" />
    <link rel="next" title="shptreetst" href="shptreetst.html" />
    <link rel="prev" title="shp2img" href="shp2img.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../utilities/shptree.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/utilities/shptree.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/utilities/shptree.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/utilities/shptree.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/utilities/shptree.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/utilities/shptree.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/utilities/shptree.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/utilities/shptree.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/utilities/shptree.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/utilities/shptree.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/utilities/shptree.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/utilities/shptree.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/utilities/shptree.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        
          
            <a href="../../uk/utilities/shptree.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
          
        

    </td>
  </tr>
</table>


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="shptree">
<span id="index-0"></span><span id="id1"></span><h1>shptree<a class="headerlink" href="#shptree" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="purpose">
<h2>Objectif<a class="headerlink" href="#purpose" title="Lien permanent vers ce titre">¶</a></h2>
<p>Créé un index spatial basé sur les quadrants pour un shapefile. La profondeur par défaut est calculé afin que chaque noeud de l&#8217;arbre (les cellules du quadrant) contienne 8 géométries. N&#8217;utilisez pas la valeur par défaut avec les points, une valeur entre 6 et 10 semble fonctionner. Vos valeurs peuvent être différentes et nécessitent quelques tests.</p>
<p>La <a class="reference external" href="https://github.com/mapserver/mapserver/wiki/ShpTree">page wiki shptree</a> peut également contenir des informations sur cette commande.</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Lien permanent vers ce titre">¶</a></h2>
<p>Cette commande est un must pour n&#8217;importe quelle application MapServer qui utilise des shapefiles. Shptree créé un index spatial de votre shapefile, en utilisant la méthode quadtree. Cela signifie que MapServer utilisera cet index pour trouver rapidement la géométrie appropriée. Il créé un fichier du même nom que votre shapefile avec une extension <em>.qix</em>. La méthode quadtree découpe le fichier en 4 parties (quadrant), récursivement jusqu&#8217;à ce que seules quelques géométries soient contenues dans chaque quadrant. Ce nombre minimal peut être défini avec le paramètre &lt;depth&gt; de la commande.</p>
</div>
<div class="section" id="syntax">
<h2>Syntaxe<a class="headerlink" href="#syntax" title="Lien permanent vers ce titre">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>shptree &lt;shpfile&gt; [&lt;depth&gt;] [&lt;index_format&gt;]
  Where:
  &lt;shpfile&gt; is the name of the .shp file to index.
  &lt;depth&gt;   (optional) is the maximum depth of the inde
       to create, default is 0 meaning that shptre
       will calculate a reasonable default depth.
  &lt;index_format&gt; (optional) is one of:
       NL: LSB byte order, using new index format
       NM: MSB byte order, using new index format
   The following old format options are deprecated
       N:  Native byte order
       L:  LSB (intel) byte order
       M:  MSB byte order
   The default index_format on this system is: NL
</pre></div>
</div>
<p>Exemple</p>
<div class="highlight-python"><div class="highlight"><pre>shptree us_states.shp
  creating index of new  LSB format
</pre></div>
</div>
<dl class="docutils">
<dt>Résultat</dt>
<dd><p class="first last">Un fichier nommé &#8216;us_states.qix&#8217; a été créé au même endroit (notez que vous pouvez utiliser la commande shptreevis, décrite à la page suivante, pour visualiser les quadrants quadtree réels qui seront utilisés par MapServer dans ce fichier qix)</p>
</dd>
</dl>
</div>
<div class="section" id="mapfile-notes">
<h2>Remarques sur le Mapfile<a class="headerlink" href="#mapfile-notes" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les shapefiles sont gérés en natif par MapServer et ne nécessitent pas l&#8217;extension <em>.shp</em> dans le chemin DATA de l&#8217;objet LAYER. En fait, vous NE DEVEZ PAS définir l&#8217;extension pour que MapServer utilise les fichiers <em>.qix</em>, par exemple:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">DATA</span> <span class="s">&quot;us_states&quot;</span>    <span class="c">#MapServer will search for us_states.qix and will use it</span>
  <span class="p">...</span>
<span class="k">END</span>

<span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">DATA</span> <span class="s">&quot;us_states.shp&quot;</span> <span class="c">#MapServer will search for us_states.shp.qix and won&#39;t find it</span>
  <span class="p">...</span>
<span class="k">END</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">À partir de MapServer 5.2 le fichier qix sera utilisé même lorsque l&#8217;extension .shp est spécifiée.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">shptree</a><ul>
<li><a class="reference internal" href="#purpose">Objectif</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#syntax">Syntaxe</a></li>
<li><a class="reference internal" href="#mapfile-notes">Remarques sur le Mapfile</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
    </div>

    

    
  </body>
</html>