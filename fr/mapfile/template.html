<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Templating &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="Mapfile" href="index.html" />
    <link rel="next" title="Couche union" href="union.html" />
    <link rel="prev" title="Exemples de symbologie" href="symbology/examples.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../mapfile/template.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/mapfile/template.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/mapfile/template.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/mapfile/template.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/mapfile/template.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/mapfile/template.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/mapfile/template.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/mapfile/template.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/mapfile/template.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/mapfile/template.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/mapfile/template.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/mapfile/template.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/mapfile/template.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        
          
            <a href="../../uk/mapfile/template.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
          
        

    </td>
  </tr>
</table>


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="templating">
<span id="template"></span><span id="index-0"></span><h1><a class="toc-backref" href="#table-of-contents">Templating</a><a class="headerlink" href="#templating" title="Lien permanent vers ce titre">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Frank Koormann</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">frank.koormann at intevation.de</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jeff McKenna</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">jmckenna at gatewaygeomatics.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Revision:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">$Date$</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table des matières</p>
<ul class="simple">
<li><a class="reference internal" href="#templating" id="id1">Templating</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#format" id="id3">Format</a></li>
<li><a class="reference internal" href="#example-template" id="id4">Modèle exemple</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#table-of-contents">Introduction</a><a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les modèles (template) sont utilisés :</p>
<ul class="simple">
<li>to define the look of a MapServer CGI application interface</li>
<li><p class="first">pour présenter les résultats d&#8217;une requête.</p>
</li>
<li>to create custimised output (see <a class="reference internal" href="../output/template_output.html#template-output"><span>Template-Driven Output</span></a>)</li>
</ul>
<p>Ils guident la présentation des résultats, que ce soit une interrogation ou une carte, à l&#8217;utilisateur.  Les modèles sont presque toujours des fichiers HTML malgré le fait qu&#8217;ils puissent aussi être une URL (c&#8217;est à dire <a class="reference external" href="http://www.somewhere.com/[ATTRIBUTE]/info.html">http://www.somewhere.com/[ATTRIBUTE]/info.html</a>). Les modèles d&#8217;URL peuvent seulement être utilisés avec les résultats d&#8217;une simple QUERY ou d&#8217;un ITEMQUERY, ainsi de nombreuses substitutions définies plus bas ne sont pas disponibles pour eux. Des interfaces de déplacement/zoom utilise un fichier de modèle seul tandis les requêtes compliquées nécessitent souvent plusieurs modèles. Les modèles utilise souvent du JavaScript pour améliorer l&#8217;interface basique.</p>
<div class="section" id="notes">
<h3>Remarques<a class="headerlink" href="#notes" title="Lien permanent vers ce titre">¶</a></h3>
<ul>
<li><p class="first">Les modèles <em>doivent</em> contenir la chaîne magique &#8216;mapserver template&#8217; dans la première ligne du modèle. Souvent, cela prend la forme d&#8217;un commentaire HTML, javascript ou XML. Cette ligne <em>n&#8217;est</em> pas écrite dans le client. La chaîne magique n&#8217;est pas sensible à la casse.</p>
</li>
<li><p class="first">Tous les <a class="reference internal" href="../cgi/index.html#cgi"><span>paramètres CGI</span></a> peuvent être référencés  dans des substitutions de modèles, les paramètres spéciques de MapServer aussi bien que ceux définis par l&#8217;utilisateur. En principe, les paramètres sont gérés par le MapServer 1:1. Cette fonctionnalité est essentielle pour implémenter les applications MapServer.</p>
<p>La référence ci-dessous liste seulement les chaînes de substitutions de modèle spécial qui sont nécessaires pour obtenir une information modifiée par MapServer, c&#8217;est à dire une nouvelle échelle, des résultats d&#8217;interrogation, etc.</p>
</li>
<li><p class="first">Les chaînes de substitution des modèles sont sensibles à la casse.</p>
</li>
<li><p class="first">Les substitutions des éléments attributaires doivent avoir la même casse que le nom des éléments dans le fichier dbase.</p>
</li>
<li><p class="first">ArcView et ArcInfo produisent généralement des fichiers dbase avec des noms d&#8217;éléments qui sont tous en majuscules. L&#8217;encodage approprié des URL (c&#8217;est à dire &#8216; &#8216; à &#8216;+&#8217;) est appliqué quand les templates sont des URL.</p>
</li>
<li><p class="first">Quelques substitutions sont aussi disponibles avec une forme échappée (c&#8217;est à dire une URL encodée).</p>
</li>
</ul>
<p>Comme un exemple, ceci est nécessaire quand on génère des liens à l&#8217;intérieur d&#8217;un template. Cela est susceptible de passer l&#8217;étendue de la carte courante &#8220;mapextent&#8221; à un nouvel appel MapServer. <em>[mapext]</em> est substitué par un jeu de coordonnées &#8220;coin bas gauche&#8221; et &#8220;haut droite&#8221; séparés par des espaces. Comme cela casserais l&#8217;URL, <em>[mapext_esc]</em> est substitué par un jeu qui est correctement encodé.</p>
</div>
</div>
<div class="section" id="format">
<h2><a class="toc-backref" href="#table-of-contents">Format</a><a class="headerlink" href="#format" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les modèles sont simplement des fichiers HTML simples ou des chaînes d&#8217;URL qui contiennent des caractères spéciaux qui sont remplacés par <a class="reference internal" href="../cgi/mapserv.html#mapserv"><span>mapserv</span></a> chaque fois que le modèle est lu. la substitution simple autorise des informations comme les couches actives ou l&#8217;étendue spatiale qui doit être passée de l&#8217;utilisateur de <a class="reference internal" href="../cgi/mapserv.html#mapserv"><span>mapserv</span></a> et inversement. Le plus souvent les nouvelles valeurs sont envoyées vers des variables de formulaire qui seront passées à nouveau. La liste des caractères spéciaux et des variables de formulaires est donnée ci-dessous. Les modèles HTML peuvent inclure à peu près n&#8217;importe quoi en incluant des appels JavaScript et Java.</p>
<p>In HTML files, the attribute values can be inside quotes(&#8220;&#8221;). Writing
attribute values inside quotes allows you to set special characters in
value that you couldn&#8217;t use normally (ie: ],=,&#8221; and space). To write a
single quote in a attribute value, just use two quotes (&#8220;&#8221;).</p>
<div class="section" id="general">
<h3>Général<a class="headerlink" href="#general" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>[date]</dt>
<dd><p class="first">Renvoie la date (d&#8217;après l&#8217;horloge du serveur web). Le format par défaut est le même que celui utilisé par les logs communs de Apache, qui ressemble à ceci :</p>
<div class="highlight-python"><div class="highlight"><pre>01/Dec/2010:17:34:58 -0800
</pre></div>
</div>
<p>Arguments disponibles :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>format=</dt>
<dd><p class="first">Une chaîne formattée comme supportée par la function standard C strftime(). comme exemple, le format par défaut est défini comme :</p>
<div class="last highlight-python"><div class="highlight"><pre>[date format=&quot;%d/%b/%Y:%H:%M:%S %z&quot;]
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>tz=</dt>
<dd><p class="first">Le fuseau horaire à utiliser pour la date retournée. Par défaut, c&#8217;est &#8220;local&#8221;. Les valeurs valides sont :</p>
<ul>
<li><dl class="first docutils">
<dt>&#8220;gmt&#8221;</dt>
<dd><p class="first last">La date renvoyée sera en temps de Greenwich (GMT)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8220;local&#8221;</dt>
<dd><p class="first last">Renvoie le temps du serveur web pour son fuseau horaire local.</p>
</dd>
</dl>
</li>
</ul>
<p class="last">En plus ou bien de manière alternative, les chaînes du format strftime %z et %Z  permettent de renvoyer le décalage de temps du fuseau horaire ou son nom.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>[version]</dt>
<dd><p class="first last">Numéro de version de Mapserver.</p>
</dd>
<dt>[id]</dt>
<dd><p class="first last">Identifiant de session unique. l&#8217;identifiant peut être passé via un formulaire mais est plus généralement généré par le logiciel. Dans ce cas, l&#8217;identifiant est la concaténation du temps UNIX (ou équivalent NT) et de l&#8217;identifiant du processus. A moins que vous obteniez plus de requêtes en une seconde que le système a d&#8217;identifiants de processus, alors l&#8217;identifiant peut être considéré comme unique. ;-&gt;</p>
</dd>
<dt>[host]</dt>
<dd><p class="first last">Nom d&#8217;hôte du serveur web.</p>
</dd>
<dt>[port]</dt>
<dd><p class="first last">Port que le serveur web écoute.</p>
</dd>
<dt>[post or get variable name], [post or get variable name_esc]</dt>
<dd><p class="first">Le contenu de n&#8217;importe quelle variable passée à MapServer, qu&#8217;elles soient ou non utilisées, peut être renvoyée de cette manière. Une utilisation peut être d&#8217;avoir un utilisateur qui définisse un titre de carte ou un style de flèche Nord dans composeur de carte interactif. Le système se moque des valeurs, mais elles peuvent être réellement importantes pour créer une sortie finale, c&#8217;est à dire que si vous spécifié un paramètre CGI comme mavaleur=...., vous pouvez accéder à celui-ci dans le fichier de template avec [mavaleur].</p>
<p class="last">Aussi disponible comme une version &#8220;échappée&#8221;</p>
</dd>
<dt>[web_meta data key],[web_meta data key_esc]</dt>
<dd><p class="first">Accès aux métadonnées de l&#8217;objet web (c&#8217;est à dire [web_projection])</p>
<p class="last">Aussi disponible comme une version &#8220;échappée&#8221;</p>
</dd>
<dt>[errmsg], [errmsg_esc]</dt>
<dd><p class="first">Sortie courante de la pile d&#8217;erreurs. Les différents messages d&#8217;erreurs sont délimités par des are delimited by semi-colons.</p>
<p class="last">Aussi disponible comme une version &#8220;échappée&#8221;</p>
</dd>
</dl>
</div>
<div class="section" id="file-reference">
<h3>Référence de fichier<a class="headerlink" href="#file-reference" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>[img]</dt>
<dd><p class="first">Chemin (relatif à la racine du document) de la nouvelle image, juste le nom de l&#8217;image si le paramètre IMAGE_URL n&#8217;est pas défini dans le mapfile.</p>
<p class="last">Dans un modèle d&#8217;interface de carte, [img] est substitué avec le chemin de l&#8217;image carte. Dans un modèle de résultats d&#8217;interrogation, il est substitué avec le chemin vers l&#8217;image de la &#8220;querymap&#8221; (si un objet <a class="reference internal" href="querymap.html#querymap"><span>QUERYMAP</span></a> est défini dans le <a class="reference internal" href="index.html#mapfile"><span>Mapfile</span></a>).</p>
</dd>
<dt>[ref]</dt>
<dd><p class="first last">Chemin (relatif à la racine du document) de la nouvelle image de la carte de référence.</p>
</dd>
<dt>[legend]</dt>
<dd><p class="first">Chemin (relatif à la racine du document) de la nouvelle image de légende générée par MapServer.</p>
<p class="last">Depuis la version 3.5.1, un nouveau modèle de légende HTML est fourni par MapServer. Si un modèle est défini dans le <a class="reference internal" href="index.html#mapfile"><span>Mapfile</span></a>, la chaîne [legend] est remplacée par la légende traitée. Voir la référence <a class="reference internal" href="../output/html_legend.html#html-legend"><span>Légendes HTML avec MapServer</span></a> pour les détails.</p>
</dd>
<dt>[scalebar]</dt>
<dd><p class="first last">Chemin (relatif à la racine du document) de la nouvelle image d&#8217;échelle.</p>
</dd>
<dt>[queryfile]</dt>
<dd><p class="first last">Chemin vers le fichier de requête (si savemap a été défini comme un <a class="reference internal" href="../cgi/index.html#cgi"><span>paramètre CGI</span></a>).</p>
</dd>
<dt>[map]</dt>
<dd><p class="first last">Chemin vers le fichier .map (si savemap a été défini comme un <a class="reference internal" href="../cgi/index.html#cgi"><span>paramètre CGI</span></a>).</p>
</dd>
</dl>
</div>
<div class="section" id="image-geometry">
<h3>Géométrie de l&#8217;image<a class="headerlink" href="#image-geometry" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>[center]</dt>
<dd><p class="first last">Centre calculé de l&#8217;image en pixels. Utile pour définir la variable de formulaire imgxy quand la taille de la carte change.</p>
</dd>
<dt>[center_x], [center_y]</dt>
<dd><p class="first last">Coordonnées X ou Y du centre de l&#8217;image calculé en pixels.</p>
</dd>
<dt>[mapsize], [mapsize_esc]</dt>
<dd><p class="first">Taille de l&#8217;image courante en colonne et en ligne (séparée par des espaces).</p>
<p class="last">Aussi disponible comme une version &#8220;échappée&#8221;</p>
</dd>
<dt>[mapwidth], [mapheight]</dt>
<dd><p class="first last">Largeur ou hauteur de l&#8217;image courante.</p>
</dd>
<dt>[scaledenom]</dt>
<dd><p class="first last">Echelle de l&#8217;image courante. La valeur exacte n&#8217;est pas appropriée pour les informations utilisateur mias essentielle pour certaines applications. La valeur peut être arrondie c&#8217;est à dire en utilisant du JavaScript ou un traitement côté serveur.</p>
</dd>
<dt>[scale] - deprecated</dt>
<dd><p class="first last">Depuis la version de MapServer 5.0, le paramètre approprié à utiliser est [scaledenom] à la place.  L&#8217;échelle [scale] dépréciée est l&#8217;échelle de l&#8217;image courante. La valeur exacte n&#8217;est pas appropriée pour les informations utilisateur mias essentielle pour certaines applications. La valeur peut être arrondie c&#8217;est à dire en utilisant du JavaScript ou un traitement côté serveur.</p>
</dd>
<dt>[cellsize]</dt>
<dd><p class="first last">Taille d&#8217;un pixel dans l&#8217;image courante en unité de carte. Utile pour les outils de mesure de distance dans les interfaces utilisateurs.</p>
</dd>
</dl>
</div>
<div class="section" id="map-geometry">
<h3>Géométrie de la carte<a class="headerlink" href="#map-geometry" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>[mapx], [mapy]</dt>
<dd><p class="first last">Coordonnées X et Y du clic de souris.</p>
</dd>
<dt>[mapext], [mapext_esc]</dt>
<dd><p class="first">Etendue complète &#8220;mapextent&#8221; (séparée par des espaces).</p>
<p>Aussi disponible comme une version échappée. (mapext_esc est dépréciée dans MapServer 5.2. Vous devriez utiliser l&#8217;argument &#8220;escape=&#8221; à la place)</p>
<p>Le modèle par défaut [mapext] retourne les coordonnées dans le format : mixx miny maxx maxy</p>
<p>Arguments disponibles :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>escape=</dt>
<dd><p class="first">Echappe les coordonnées retournées. La valeur par défaut est &#8220;none&#8221;. Les valeurs valides sont :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>&#8220;url&#8221;</dt>
<dd><p class="first last">Utilise les codes d&#8217;échappement d&#8217;URL pour encoder les coordonnées retournées.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8220;none&#8221;</dt>
<dd><p class="first last">Ne pas échapper</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>expand=</dt>
<dd><p class="first">Aggrandit les bornes des étendues d&#8217;une valeur spécifique. Spécifié dans les coordonnées de carte. Par exemple, [mapext] pourrait retourner :</p>
<div class="highlight-python"><div class="highlight"><pre>123456 123456 567890 567890
</pre></div>
</div>
<p>et [mapext expand=1000] retournera par conséquent :</p>
<div class="last highlight-python"><div class="highlight"><pre>122456 122456 568890 568890
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>format=</dt>
<dd><p class="first">Format des coordonnées.  La valeur par défaut est &#8220;$minx $miny $maxx $maxy&#8221;. Par exemple, pour ajouter des virgules aux coordonnées, vous devriez utiliser :</p>
<div class="last highlight-python"><div class="highlight"><pre>[mapext format=&quot;$minx,$miny,$maxx,$maxy&quot;]
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>precision=</dt>
<dd><p class="first last">Le nombre de décimales pour la sortie des coordonnées (par défaut, la valeur est 0).</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>[minx], [miny], [maxx], [maxy]</dt>
<dd><p class="first last">Coordonnées X ou Y minimum / maximum de la nouvelle étendue de carte.</p>
</dd>
<dt>[dx], [dy]</dt>
<dd><p class="first">La différences des coordonnées X ou Y minimum / maximum de la nouvelle étendue de carte.</p>
<p class="last">Utile pour créer des étendues &#8220;cachable&#8221; (c&#8217;est à dire 0 0 dx dy) avec les légendes ou les barres d&#8217;échelle</p>
</dd>
<dt>[rawext], [rawext_esc]</dt>
<dd><p class="first">Etendue de carte mapextent brute, c&#8217;est l&#8217;étendue avant de l&#8217;adapter à la taille de fenêtre (séparée par des espaces). Dans les cas où l&#8217;entrée vient de la boîte image imgbox (via Java ou autre), rawext se réfère aux coordonnées imgbox transformées en unités de carte. Utile pour la construction de requête spatiale.</p>
<p>Aussi disponible en version échappée. (rawext_esc est déprécié dans MapServer 5.2.  Vous devriez utiliser l&#8217;argument &#8220;escape=&#8221; à la place)</p>
<p>Le modèle par défaut [rawext] retourne les coordonnées dans le format : mixx miny maxx maxy</p>
<p>Arguments disponibles :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>escape=</dt>
<dd><p class="first">Echappe les coordonnées retournées. La valeur par défaut est &#8220;none&#8221;. Les valeurs valides sont :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>&#8220;url&#8221;</dt>
<dd><p class="first last">Utilise les codes d&#8217;échappement d&#8217;URL pour encoder les coordonnées retournées.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8220;none&#8221;</dt>
<dd><p class="first last">Ne pas échapper</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>expand=</dt>
<dd><p class="first">Aggrandit les bornes des étendues d&#8217;une valeur spécifique. Spécifié dans les coordonnées de carte. Par exemple, [rawext] pourrait retourner :</p>
<div class="highlight-python"><div class="highlight"><pre>123456 123456 567890 567890
</pre></div>
</div>
<p>et [rawext expand=1000] retournera par conséquent :</p>
<div class="last highlight-python"><div class="highlight"><pre>122456 122456 568890 568890
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>format=</dt>
<dd><p class="first">Format des coordonnées.  La valeur par défaut est &#8220;$minx $miny $maxx $maxy&#8221;. Par exemple, pour ajouter des virgules aux coordonnées, vous devriez utiliser :</p>
<div class="last highlight-python"><div class="highlight"><pre>[rawext format=&quot;$minx,$miny,$maxx,$maxy&quot;]
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>precision=</dt>
<dd><p class="first last">Le nombre de décimales pour la sortie des coordonnées (par défaut, la valeur est 0).</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>[rawminx], [rawminy], [rawmaxx], [rawmaxy]</dt>
<dd><p class="first last">Coordonnées X ou Y minimum / maximum de la carte brute / l&#8217;étendue de recherche.</p>
</dd>
</dl>
<p>Les substitutions suivantes sont seulement disponibles si MapServer a été compilé avec le support de PROJ et qu&#8217;une <a class="reference internal" href="projection.html#projection"><span>PROJECTION</span></a> est définie dans le <a class="reference internal" href="index.html#mapfile"><span>Mapfile</span></a>.</p>
<dl class="docutils">
<dt>[maplon], [maplat]</dt>
<dd><p class="first last">Valuer de longitude / latitude du clic de souris. Disponible seulement si la projection est activée.</p>
</dd>
<dt>[mapext_latlon], [mapext_latlon_esc]</dt>
<dd><p class="first">Etendue complète &#8220;mapextent&#8221; (séparée par des espaces). Disponible seulement si la projection est activée.</p>
<p>Aussi disponible comme une version échappée. (mapext_latlong_esc est dépréciée dans MapServer 5.2. Vous devriez utiliser l&#8217;argument &#8220;escape=&#8221; à la place)</p>
<p>Le modèle par défaut [mapext_latlon] retourne les coordonnées dans le format : mixx miny maxx maxy</p>
<p>Arguments disponibles :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>escape=</dt>
<dd><p class="first">Echappe les coordonnées retournées. La valeur par défaut est &#8220;none&#8221;. Les valeurs valides sont :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>&#8220;url&#8221;</dt>
<dd><p class="first last">Utilise les codes d&#8217;échappement d&#8217;URL pour encoder les coordonnées retournées.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8220;none&#8221;</dt>
<dd><p class="first last">Ne pas échapper</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>expand=</dt>
<dd><p class="first">Aggrandit les bornes des étendues d&#8217;une valeur spécifique. Spécifié dans les coordonnées de carte. Par exemple, [mapext_latlon] pourrait retourner :</p>
<div class="highlight-python"><div class="highlight"><pre>123456 123456 567890 567890
</pre></div>
</div>
<p>et [mapext_latlon expand=1000] retournera par conséquent :</p>
<div class="last highlight-python"><div class="highlight"><pre>122456 122456 568890 568890
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>format=</dt>
<dd><p class="first">Format des coordonnées.  La valeur par défaut est &#8220;$minx $miny $maxx $maxy&#8221;. Par exemple, pour ajouter des virgules aux coordonnées, vous devriez utiliser :</p>
<div class="last highlight-python"><div class="highlight"><pre>[mapext_latlon format=&quot;$minx,$miny,$maxx,$maxy&quot;]
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>precision=</dt>
<dd><p class="first last">Le nombre de décimales pour la sortie des coordonnées (par défaut, la valeur est 0).</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>[minlon], [minlat], [maxlon] [maxlat]</dt>
<dd><p class="first last">Valuer de longitude ou latitude minimum / maximum de l&#8217;étendue de carte mapextent. Disponible seulement si la projection est activée.</p>
</dd>
<dt>[refext], [refext_esc]</dt>
<dd><p class="first">Etendue de la carte de référence (séparée par des espaces)</p>
<p>Ce modèle a été ajouté dans la version 4.6 suite à une demande d&#8217;amélioration. Voir le fil de discussion dans <a class="reference external" href="https://github.com/mapserver/mapserver/issues/1102">ticket #1102 MapServer</a> pour des cas d&#8217;utilisation potentiels.</p>
<p>Aussi disponible comme une version échappée. (refext_esc est dépréciée dans MapServer 5.2. Vous devriez utiliser l&#8217;argument &#8220;escape=&#8221; à la place)</p>
<p>Le modèle par défaut [refext] retourne les coordonnées dans le format : mixx miny maxx maxy</p>
<p>Arguments disponibles :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>escape=</dt>
<dd><p class="first">Echappe les coordonnées retournées. La valeur par défaut est &#8220;none&#8221;. Les valeurs valides sont :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>&#8220;url&#8221;</dt>
<dd><p class="first last">Utilise les codes d&#8217;échappement d&#8217;URL pour encoder les coordonnées retournées.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8220;none&#8221;</dt>
<dd><p class="first last">Ne pas échapper</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>expand=</dt>
<dd><p class="first">Aggrandit les bornes des étendues d&#8217;une valeur spécifique. Spécifié dans les coordonnées de carte. Par exemple, [refext] pourrait retourner :</p>
<div class="highlight-python"><div class="highlight"><pre>123456 123456 567890 567890
</pre></div>
</div>
<p>et [refext expand=1000] retournera par conséquent :</p>
<div class="last highlight-python"><div class="highlight"><pre>122456 122456 568890 568890
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>format=</dt>
<dd><p class="first">Format des coordonnées.  La valeur par défaut est &#8220;$minx $miny $maxx $maxy&#8221;. Par exemple, pour ajouter des virgules aux coordonnées, vous devriez utiliser :</p>
<div class="last highlight-python"><div class="highlight"><pre>[refwext format=&quot;$minx,$miny,$maxx,$maxy&quot;]
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>precision=</dt>
<dd><p class="first last">Le nombre de décimales pour la sortie des coordonnées (par défaut, la valeur est 0).</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="layer">
<h3>Couche<a class="headerlink" href="#layer" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>[layers] | [layers_esc]</dt>
<dd><p class="first">Toutes les couches actives délimitées avec un espace. Utilisé pour une requête &#8220;POST&#8221;</p>
<p class="last">Aussi disponible comme une version &#8220;échappée&#8221;</p>
</dd>
<dt>[toggle_layers] | [toggle_layers_esc]</dt>
<dd><p class="first">Liste de toutes les couches qui peuvent être activées/désactivées, c&#8217;est à dire toutes les couches définies dans le <a class="reference internal" href="index.html#mapfile"><span>Mapfile</span></a> dont le status n&#8217;est pas couramment à &#8220;default&#8221;.</p>
<p class="last">Aussi disponible comme une version &#8220;échappée&#8221;</p>
</dd>
<dt>[layername_check | select]</dt>
<dd><p class="first last">Utilisé pour rendre les couches persistantes pendant une session de création de carte. La chaîne est remplacée avec le mot-clé &#8220;checked&#8221;, &#8220;selected&#8221; ou &#8220;&#8221; si &#8220;layername&#8221; est activée. Layername estle nom de la couche tel qu&#8217;il apparaît dans le <a class="reference internal" href="index.html#mapfile"><span>Mapfile</span></a>. Ne fonctionne pas pour les couches default.</p>
</dd>
<dt>[layername_meta data key]</dt>
<dd><p class="first last">Accès aux métadonnées de couche (c&#8217;est à dire [streets_build], le tiret bas est essentiel)</p>
</dd>
</dl>
</div>
<div class="section" id="zoom">
<h3>Zoom<a class="headerlink" href="#zoom" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>[zoom_minzoom to maxzoom_check|select]</dt>
<dd><p class="first">Utilisé pour rendre le facteur de zoom persistant. Les valeurs de zoom peuvent prendre des valeurs entre -25 et 25 par défaut. La chaîne est remplacée avec le mot-clé HTML &#8220;checked&#8221;, &#8220;selected&#8221; ou &#8220;&#8221; en fonction de la valeur de zoom courante.</p>
<p class="last">C&#8217;est à dire si le zoom est 12, un [zoom_12_select] est remplacé avec &#8220;selected&#8221;, tandis qu&#8217;un [zoom_13_select] dans le même fichier de modèle HTML ne l&#8217;est pas.</p>
</dd>
<dt>[zoomdir_-1|0|1_check|select]</dt>
<dd><p class="first last">Utilisé pour rendre la direction de zoom persistante. Utilise &#8220;check&#8221; avec un contrôle radio ou select avec une liste de sélection. Voir la démo pour un exemple. La chaîne est remplacée avec le mot-clé HTML &#8220;checked&#8221;, &#8220;selected&#8221; ou &#8220;&#8221; en fonction de la valeur de zoomdir.</p>
</dd>
</dl>
</div>
<div class="section" id="query">
<h3>Requête<a class="headerlink" href="#query" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les substitutions suivantes sont seulement disponibles quand on traite le modèle comme le résultat d&#8217;une requête.</p>
<dl class="docutils">
<dt>[shpext], [shpext_esc]</dt>
<dd><p class="first">Etendue de la forme courante avec un tampon de 5 pourcents. Disponible seulement quand on traite les résultats de requête.</p>
<p>Le modèle par défaut [shpext] retourne les coordonnées dans le format : mixx miny maxx maxy</p>
<p>Arguments disponibles :</p>
<ul class="last">
<li><dl class="first docutils">
<dt>escape=</dt>
<dd><p class="first">Echappe les coordonnées retournées. La valeur par défaut est &#8220;none&#8221;. Les valeurs valides sont :</p>
<ul class="last">
<li><p class="first">&#8220;url&#8221;</p>
<blockquote>
<div><p>Utilise les codes d&#8217;échappement d&#8217;URL pour encoder les coordonnées retournées.</p>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>&#8220;none&#8221;</dt>
<dd><p class="first last">Ne pas échapper</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>expand=</dt>
<dd><p class="first">Aggrandit les bornes des étendues d&#8217;une valeur spécifique. Spécifié dans les coordonnées de carte. Par exemple, [shpext] pourrait retourner :</p>
<div class="highlight-python"><div class="highlight"><pre>123456 123456 567890 567890
</pre></div>
</div>
<p>et [shpext expand=1000] retournera par conséquent :</p>
<div class="last highlight-python"><div class="highlight"><pre>122456 122456 568890 568890
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>format=</dt>
<dd><p class="first">Format des coordonnées.  La valeur par défaut est &#8220;$minx $miny $maxx $maxy&#8221;. Par exemple, pour ajouter des virgules aux coordonnées, vous devriez utiliser :</p>
<div class="last highlight-python"><div class="highlight"><pre>[shpext format=&quot;$minx,$miny,$maxx,$maxy&quot;]
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>precision=</dt>
<dd><p class="first last">Le nombre de décimales pour la sortie des coordonnées (par défaut, la valeur est 0).</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>[shpminx], [shpminy], [shpmaxx], [shpmaxy]</dt>
<dd><p class="first last">Coordonnées minimum / maximum X ou Y de l&#8217;étendue de la carte. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[shpmid]</dt>
<dd><p class="first last">Milieu de l&#8217;étendue de la forme courante. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[shpmidx], [shpmidy]</dt>
<dd><p class="first last">Coordonnées X ou Y du milieu de l&#8217;étendue de la forme courante. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[shpidx]</dt>
<dd><p class="first last">Valeur de l&#8217;index de la forme courante. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[shpclass]</dt>
<dd><p class="first last">Valeur de l&#8217;index de classe &#8220;Classindex&#8221; de la forme courante. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[shpxy formatting options]</dt>
<dd><p class="first">La liste des coordonnées de la forme, avec options de formatage de liste, particulièrement utile pour le SVG.</p>
<p>Le modèle par défaut [shpxy] retourne une liste séparée par des virgules de coordonnées délimitée par des espaces (c&#8217;est à dire x1 y1, x2 y2, x3 y3).</p>
<p>Disponible seulement quand on traite les résultats de requête.</p>
<p>Attributs disponibles (h = header (en-tête), f=footer (pied de page), s=separator (séparateur)):</p>
<ul>
<li><dl class="first docutils">
<dt>buffer=,</dt>
<dd><p class="first last">Taille du tampon, actuellement la seule unité disponible est le pixel. Par défaut, sa valeur vaut 0.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>centroid=</dt>
<dd><p class="first last">Est-ce que le centroide de la forme est utilisé? true ou false (insensible à la casse). Par défaut, la valeur est false.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>cs=</dt>
<dd><p class="first last">Séparateur de coordonnées. Par défaut, c&#8217;est &#8221;,&#8221;.</p>
</dd>
</dl>
</li>
<li><p class="first">irh=, irf=, orh=, orf=</p>
<blockquote>
<div><p>Caractères à mettre avant les anneaux internes de (<cite>irh</cite>) et après ceux de (<cite>irf</cite>), et avant les anneaux externes (des polygones à trous) de (<cite>orh</cite>) et après ceux de (<cite>orf</cite>). Par défaut, leurs valeurs sont &#8220;&#8221;.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A l&#8217;intérieur de chaque polygone, l&#8217;anneau externe est toujours envoyé en premier, suivi par les anneaux internes.</p>
</div>
<p>Si ni <cite>irh</cite> ni <cite>orh</cite> ne sont définis, les anneaux sont renvoyées comme des &#8220;parties&#8221; en utilisant <cite>ph</cite>/<cite>pf</cite>/<cite>ps</cite>.</p>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>ph=, pf=, ps=</dt>
<dd><p class="first last">Caractères à mettre avant (<cite>ph</cite>) et après (<cite>pf</cite>) et séparateurs entre les morceaux d&#8217;entité (<cite>ps</cite>) (c&#8217;est à dire les anneaux des multigéométries). Par défaut, leurs valeurs sont ph=&#8221;&#8221;, pf=&#8221;&#8221; et ps=&#8221; &#8221;.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>precision=</dt>
<dd><p class="first last">Le nombre de décimales pour la sortie des coordonnées. Par défaut, la valeur est 0.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>proj=</dt>
<dd><p class="first last">La définition de de laprojection en sortie pour les coordonnées, une valeur spéciale de l&#8216;&#8220;image&#8221; sera convertie en coordonnées image.  Par défaut, la valeur est none.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>scale=, scale_x=, scale_y=</dt>
<dd><p class="first last">Facteur de mise à l&#8217;échelle pour les coordonnées : les deux axes (<cite>scale</cite>), l&#8217;axe x (<cite>scale_x</cite>) et l&#8217;axe y (<cite>scale_y</cite>). Par défaut, leurs valeurs sont 1.0.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>sh=, sf=</dt>
<dd><p class="first last">Caractères à mettre avant (<cite>sh</cite>) et après (<cite>sf</cite>) une entité. Par défaut, leurs valeurs sont &#8220;&#8221;.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>xh=, xf=</dt>
<dd><p class="first last">Caractères à mettre avant (<cite>xh</cite>) et après (<cite>xf</cite>) les coordonnées x. Leurs valeurs par défaut sont xh=&#8221;&#8221; et xf=&#8221;,&#8221;).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>yh= yf=</dt>
<dd><p class="first last">Caractères à mettre avant (<cite>yh</cite>) et après (<cite>yf</cite>) les coordonnées y. Par défaut, leurs valeurs sont &#8220;&#8221;.</p>
</dd>
</dl>
</li>
</ul>
<p>Comme un exemple simple :</p>
<div class="highlight-python"><div class="highlight"><pre>[shpxy xh=&quot;(&quot; yf=&quot;)&quot;] will result in: (x1 y1),(x2 y2),(x3 y3)
</pre></div>
</div>
<p>et un exemple plus comliqué de sortie KML pour les multipolygones qui peuvent potentiellement avoir des trous (notez que les paramètres doivent tous être sur une seule ligne) :</p>
<div class="last highlight-python"><div class="highlight"><pre>&lt;MultiGeometry&gt;
    &lt;Point&gt;
      &lt;coordinates&gt;[shplabel proj=epsg:4326 precision=10],0&lt;/coordinates&gt;
    &lt;/Point&gt;
    [shpxy ph=&quot;&lt;Polygon&gt;&lt;tessellate&gt;1&lt;/tessellate&gt;&quot; pf=&quot;&lt;/Polygon&gt;&quot; xf=&quot;,&quot;
     xh=&quot; &quot; yh=&quot; &quot; yf=&quot;,0 &quot; orh=&quot;&lt;outerBoundaryIs&gt;&lt;LinearRing&gt;&lt;coordinates&gt;&quot;
     orf=&quot;&lt;/coordinates&gt;&lt;/LinearRing&gt;&lt;/outerBoundaryIs&gt;&quot;
     irh=&quot;&lt;innerBoundaryIs&gt;&lt;LinearRing&gt;&lt;coordinates&gt;&quot;
     irf=&quot;&lt;/coordinates&gt;&lt;/LinearRing&gt;&lt;/innerBoundaryIs&gt;&quot; proj=epsg:4326
     precision=10]
&lt;/MultiGeometry&gt;
</pre></div>
</div>
</dd>
<dt>[tileindex]</dt>
<dd><p class="first last">La valeur d&#8217;index de la tuile courante. Si aucune tuile n&#8217;est utilisée pour la forme courante, elle est remplacée par &#8220;-1&#8221;. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[item formatting options]</dt>
<dd><p class="first">Un élément &#8220;item&#8221; de table attributaire, avec des options de formatage de liste. L&#8217;attribut de nom &#8220;name&#8221; est requis.</p>
<p>Disponible seulement quand on traite les résultats de requête.</p>
<p>Attributs disponibles :</p>
<ul>
<li><dl class="first docutils">
<dt>name =</dt>
<dd><p class="first last">Le nom d&#8217;un attribut, insensible à la casse. (requis)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>precision =</dt>
<dd><p class="first last">Le nombre de décimales à utiliser pour les données numériques. L&#8217;utilisation de ce paramètre forcera l&#8217;affichage comme un nombre et pourra mener à des résultats imprévisibles avec des données non numériques.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>pattern =</dt>
<dd><p class="first last">Expression régulière pour comparer la valeur d&#8217;un élément avec. La balise est renvoyée seulement s&#8217;il y a une correspondance.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>uc =</dt>
<dd><p class="first last">Définit cet attribut à &#8220;true&#8221; pour convertir la valeur de l&#8217;attribut en majuscule.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>lc =</dt>
<dd><p class="first last">Définit cet attribut à &#8220;true&#8221; pour convertir la valeur de l&#8217;attribut en minuscule.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>commify =</dt>
<dd><p class="first last">Définit cet attribut à &#8220;true&#8221; pour ajouter des virgules à une valeur numérique. A nouveau, seulement utile avec des données numériques.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>escape =</dt>
<dd><p class="first last">L&#8217;échappement par défaut est pour le HTML, mais vous pouvez échapper pour une inclusion dans une URL (=url), ou ne rien échapper du tout (=none).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>format =</dt>
<dd><p class="first last">Une chaîne formatée utilisée pour renvoyer la valeur d&#8217;attribut. Le jeton &#8220;$valeur&#8221; est utilisé pour placer la valeur dans une présentation plus complexe. Par défaut, il renvoie seulement la valeur.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>nullformat =</dt>
<dd><p class="first last">Chaîne à renvoyer si la valeur d&#8217;attribut est NULL, vide ou ne correspond pas au pattern (si défini). S&#8217;il n&#8217;est pas défini et qu&#8217;aucune de ces conditions est vérifiée, la balise de l&#8217;élément est remplacée avec une chaîne vide.</p>
</dd>
</dl>
</li>
</ul>
<p>Comme un exemple simple :</p>
<div class="last highlight-python"><div class="highlight"><pre>[item name=&quot;area&quot; precision=&quot;2&quot; commify=&quot;2&quot; format=&quot;Area is $value&quot;]
</pre></div>
</div>
</dd>
<dt>[attribute name],[attrribute name_esc],[attribute item name_raw]</dt>
<dd><p class="first">Nom d&#8217;attribut pour la table de données d&#8217;une couche interrogée. Seules les attributs pour les couches de requête active sont accessibles. La casse doit être la même que celle stocké dans le fichier de données. ArcView, par exemple, n&#8217;utilise que les majuscules sur les noms des champs shapefile. Disponible seulement quand on traite les résultats de requête.</p>
<p class="last">Par défaut, les attributs sont encodés spécialement pour la représentation HTML. En plus, la version échappée (pour l&#8217;usage dans les URL) comme celle brute est disponible.</p>
</dd>
</dl>
<p>[Join nom_attribut nom],[Join nom_attribut nom_echappee], [Join nom_attribut nom_brute]</p>
<blockquote>
<div><p>Jointures une à une : en premier le nom de la jointure (comme spécifiée dans le <a class="reference internal" href="index.html#mapfile"><span>Mapfile</span></a>) doit être donné, ensuite, les champs des tables peuvent être accédés de manière similaire aux données attributaires des couches. Disponible seulement quand on traite les résultats de requête.</p>
<p>Par défaut, les attributs sont encodés spécialement pour la représentation HTML. En plus, la version échappée (pour l&#8217;usage dans les URL) comme celle brute est disponible.</p>
</div></blockquote>
<dl class="docutils">
<dt>[join_Join nom]</dt>
<dd><p class="first last">Jointures une à plusieurs : la variante la plus complexe.Si lle type de jointure est multiple (une à plusieurs), le modèle est remplacé par le jeu d&#8217;en-tête, fichier de modèle et pied de page spécifié dans le <a class="reference internal" href="index.html#mapfile"><span>Mapfile</span></a>.</p>
</dd>
<dt>[metadata_meta data key], [metadata_meta data key_esc]</dt>
<dd><p class="first">Accès aux métadonnées des couches interrogées (c&#8217;est à dire [metadata_projection])</p>
<p class="last">Aussi disponible comme une version &#8220;échappée&#8221;</p>
</dd>
</dl>
<p>For query modes that allow for multiple result sets, the following
string substitutions are available. For FEATURESELECT and
FEATURENSELECT modes the totals a re adjusted so as not to include the
selection layer. The selection layer results ARE available for display
to the user.</p>
<dl class="docutils">
<dt>[nr]</dt>
<dd><p class="first last">Nombre total de résultats. Utile dans les en-têtes et les pieds de page. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[nl]</dt>
<dd><p class="first last">Nombre de couches retournant des résultats. Utile dans les en-têtes et les pieds de page. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[nlr]</dt>
<dd><p class="first last">Nombre total de résultats dans la couche courante. Utile dans les en-têtes et les pieds de page. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[rn]</dt>
<dd><p class="first last">Nombre résultat à l&#8217;intérieur de toutes les couches. Commence à 1. Utile dans les en-têtes et les pieds de page. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[lrn]</dt>
<dd><p class="first last">Nombre résultat à l&#8217;intérieur de la couche courante. Commence à 1. Utile dans les modèles d&#8217;interrogation. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
<dt>[cl]</dt>
<dd><p class="first last">Nom de couche courante. Utile dans les en-têtes et les pieds de page de couche. Disponible seulement quand on traite les résultats de requête.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="example-template">
<h2><a class="toc-backref" href="#table-of-contents">Modèle exemple</a><a class="headerlink" href="#example-template" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un petit exemple pour donner une idée de comment travailler avec des modèles. Notez qu&#8217;il couvre les modèles Mapserver spécifiques (c&#8217;est à dire le [map], [mapext]) et les modèles définis par l&#8217;utilisateur (c&#8217;est à dire [htmlroot] ou [program]) utilisé pour stocker les paramètres de l&#8217;application.</p>
<div class="highlight-guess"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- MapServer Template --&gt;</span>
<span class="cp">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>
<span class="cp">       &quot;http://www.w3.org/TR/html4/transitional.dtd&quot;&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>MapServer Template Sample<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>

  <span class="nt">&lt;body&gt;</span>
    MapServer Template Sample<span class="nt">&lt;br&gt;</span>

    <span class="c">&lt;!-- The central form the application is based on. --&gt;</span>
    <span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">&quot;GET&quot;</span> <span class="na">action=</span><span class="s">&quot;[program]&quot;</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- CGI MapServer applications are server stateless in principle,</span>
<span class="c">         all information must be &quot;stored&quot; in the client. This includes</span>
<span class="c">         some basic settings as below.</span>
<span class="c">         The example is based on the pan and zoom test suite:</span>
<span class="c">         http://maps.dnr.state.mn.us/mapserver_demos/tests36/           --&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;map&quot;</span> <span class="na">value=</span><span class="s">&quot;[map]&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;imgext&quot;</span> <span class="na">value=</span><span class="s">&quot;[mapext]&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;imgxy&quot;</span> <span class="na">value=</span><span class="s">&quot;149.5 199.5&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;program&quot;</span> <span class="na">value=</span><span class="s">&quot;[program]&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;htmlroot&quot;</span> <span class="na">value=</span><span class="s">&quot;[htmlroot]&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;map_web&quot;</span> <span class="na">value=</span><span class="s">&quot;[map_web]&quot;</span><span class="nt">&gt;</span>

      <span class="c">&lt;!-- A table for minimal page formatting. --&gt;</span>
      <span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">0</span> <span class="na">cellpadding=</span><span class="s">5</span><span class="nt">&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="c">&lt;!-- First column: Map and scale bar --&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">align=</span><span class="s">center</span><span class="nt">&gt;</span>
          <span class="c">&lt;!-- The map --&gt;</span>
          <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;image&quot;</span> <span class="na">name=</span><span class="s">&quot;img&quot;</span> <span class="na">src=</span><span class="s">&quot;[img]&quot;</span>
                 <span class="na">style=</span><span class="s">&quot;border:0;width:300;height:400&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;br&gt;</span>
          <span class="c">&lt;!-- The scale bar--&gt;</span>
          <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;[scalebar]&quot;</span> <span class="na">alt=</span><span class="s">&quot;Scale Bar&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/td&gt;</span>

        <span class="c">&lt;!-- Second column: Zoom direction, Legend and Reference --&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">valign=</span><span class="s">top</span><span class="nt">&gt;</span>
          <span class="c">&lt;!-- Zoom direction --&gt;</span>
          <span class="nt">&lt;b&gt;</span>Map Controls<span class="nt">&lt;/b&gt;&lt;br&gt;</span>
          Set your zoom option:<span class="nt">&lt;br&gt;</span>
          <span class="nt">&lt;select</span> <span class="na">name=</span><span class="s">&quot;zoom&quot;</span> <span class="na">size=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span> <span class="err">[zoom_2_select]</span><span class="nt">&gt;</span> Zoom in 2 times
            <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span>  <span class="err">[zoom_1_select]</span><span class="nt">&gt;</span> Recenter Map
            <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;-2&quot;</span> <span class="err">[zoom_-2_select]</span><span class="nt">&gt;</span> Zoom out 2 times
          <span class="nt">&lt;/select&gt;</span>
          <span class="nt">&lt;br&gt;</span>

          <span class="c">&lt;!-- Legend --&gt;</span>
          <span class="nt">&lt;b&gt;</span>Legend<span class="nt">&lt;/b&gt;&lt;br&gt;</span>
          <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;[legend]&quot;</span> <span class="na">alt=</span><span class="s">&quot;Legend&quot;</span><span class="nt">&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span>

          <span class="c">&lt;!-- Reference map --&gt;</span>
         <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;image&quot;</span> <span class="na">name=</span><span class="s">&quot;ref&quot;</span> <span class="na">src=</span><span class="s">&quot;[ref]&quot;</span>
                <span class="na">style=</span><span class="s">&quot;border:0;width:150;height:150&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
      <span class="nt">&lt;/table&gt;</span>

    <span class="nt">&lt;/form&gt;</span>

  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Templating</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#notes">Remarques</a></li>
</ul>
</li>
<li><a class="reference internal" href="#format">Format</a><ul>
<li><a class="reference internal" href="#general">Général</a></li>
<li><a class="reference internal" href="#file-reference">Référence de fichier</a></li>
<li><a class="reference internal" href="#image-geometry">Géométrie de l&#8217;image</a></li>
<li><a class="reference internal" href="#map-geometry">Géométrie de la carte</a></li>
<li><a class="reference internal" href="#layer">Couche</a></li>
<li><a class="reference internal" href="#zoom">Zoom</a></li>
<li><a class="reference internal" href="#query">Requête</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-template">Modèle exemple</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
    </div>

    

    
  </body>
</html>