<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Fichiers de Contexte de Carte &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="CGI" href="index.html" />
    <link rel="next" title="Contrôles CGI pour MapServer" href="controls.html" />
    <link rel="prev" title="mapserv" href="mapserv.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../cgi/mapcontext.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/cgi/mapcontext.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/cgi/mapcontext.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/cgi/mapcontext.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/cgi/mapcontext.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/cgi/mapcontext.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/cgi/mapcontext.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/cgi/mapcontext.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/cgi/mapcontext.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/cgi/mapcontext.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/cgi/mapcontext.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/cgi/mapcontext.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/cgi/mapcontext.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        
          
            <a href="../../uk/cgi/mapcontext.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
          
        

    </td>
  </tr>
</table>


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="map-context-files">
<span id="mapcontext-cgi"></span><h1>Fichiers de Contexte de Carte<a class="headerlink" href="#map-context-files" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="support-for-local-map-context-files">
<h2>Gestion des fichiers de contexte de carte locale<a class="headerlink" href="#support-for-local-map-context-files" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il y a un paramètre CGI appellé CONTEXT qui est utilisé pour définir un fichier contexte local. L&#8217;utilisateur peut alors utiliser MapServer pour demander une carte en utilisant la syntaxe suivante :</p>
<div class="highlight-python"><div class="highlight"><pre>http://localhost/mapserver.cgi?MODE=map&amp;MAP=/path/to/mapfile.map&amp;CONTEXT=
                     /path/to/contextfile.xml&amp;LAYERS=layer_name1 layers_name2
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Toutes les couches crées à partir du fichier contexte ont leur status à ON. Pour afficher des couches, l&#8217;utilisateur doit ajouter l&#8217;argument LAYERS dans l&#8217;URL.</p>
</div>
</div>
<div class="section" id="support-for-context-files-accessed-through-a-url">
<h2>Gestion de fichier de contexte accédé par une URL<a class="headerlink" href="#support-for-context-files-accessed-through-a-url" title="Lien permanent vers ce titre">¶</a></h2>
<p>La syntaxe pour utiliser un fichier de contexte accessible par le web devrait être similaire à l&#8217;accès d&#8217;un fichier de contexte local.</p>
<div class="highlight-python"><div class="highlight"><pre>http://localhost/mapserver.cgi?MODE=map&amp;MAP=/path/to/mapfile.map&amp;CONTEXT=
            http://URL/path/to/contextfile.xml&amp;LAYERS=layers_name1 layer_name2
</pre></div>
</div>
<p>En raison de problèmes de sécurité, le chargement de fichier à partir d&#8217;une URL est désactivé par défaut. Pour activer cette fonctionnalité, l&#8217;utilisateur doit définir un paramètre CONFIG appelé CGI_CONTEXT_URL dans le fichier map par défaut qui permettra cette fonctionnalité.  Voici un exemple d&#8217;un fichier map avec le paramètre CONFIG :</p>
<div class="highlight-python"><div class="highlight"><pre># Start of map file
NAME DEMO
STATUS ON
SIZE 400 300
EXTENT -2200000 -712631 3072800 3840000
UNITS METERS
IMAGECOLOR 255 255 255
IMAGETYPE png
CONFIG &quot;CGI_CONTEXT_URL&quot; &quot;1&quot;
...
</pre></div>
</div>
</div>
<div class="section" id="default-map-file">
<h2>Fichier Map par défaut<a class="headerlink" href="#default-map-file" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour exécuter une application avec le CGI de MapServer en douceur avec un contexte de carte, l&#8217;application de l&#8217;administrateur doit fournir un fichier map par défaut avec au moins les paramètres de base nécessaires qui seront utilisés avec le fichier de contexte. Ce fichier map par défaut peut contenir aussi peu d&#8217;informations que ImagePath et ImageUrl ou contenir une liste de couches. Les informations provenant du contexte (Par exemple : couches, largeur, hauteur, etc.) seront soit ajoutées ou remplaceront les valeurs trouvées dans le fichier de la carte.</p>
<p>Voici un exemple d&#8217;un fichier map par défaut contenant les paramètres minimales obligatoire :</p>
<div class="highlight-python"><div class="highlight"><pre>NAME CGI-CONTEXT-DEMO
STATUS ON
SIZE 400 300
EXTENT -2200000 -712631 3072800 3840000
UNITS METERS
IMAGECOLOR 255 255 255
IMAGETYPE png
#
# Start of web interface definition
#
WEB
  MINSCALE 2000000
  MAXSCALE 50000000
#
# On Windows systems, /tmp and /tmp/ms_tmp/ should be created at the root
# of the drive where the .MAP file resides.
#
  IMAGEPATH &quot;/ms4w/tmp/ms_tmp/&quot;
  IMAGEURL &quot;/ms_tmp/&quot;
END
END # Map File
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Fichiers de Contexte de Carte</a><ul>
<li><a class="reference internal" href="#support-for-local-map-context-files">Gestion des fichiers de contexte de carte locale</a></li>
<li><a class="reference internal" href="#support-for-context-files-accessed-through-a-url">Gestion de fichier de contexte accédé par une URL</a></li>
<li><a class="reference internal" href="#default-map-file">Fichier Map par défaut</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
    </div>

    

    
  </body>
</html>