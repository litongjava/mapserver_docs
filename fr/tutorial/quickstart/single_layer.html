<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Map with A Single Layer &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../../about.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../../index.html" />
    <link rel="up" title="MapServer Tutorials" href="../index.html" />
    <link rel="next" title="2. A Map with Two Layers" href="two_layers.html" />
    <link rel="prev" title="MapServer Tutorials" href="../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../faq.html" title="FAQ">FAQ</a> |
      <a href="../../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../../tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../../ar/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../../de/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../../el/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../../es/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../../id/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../../it/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../../ja/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../../nl_NL/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../../pl/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../../ru/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../../sq/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../../tr/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        
          
            <a href="../../../uk/tutorial/quickstart/single_layer.html"><img src="../../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
          
        

    </td>
  </tr>
</table>


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="map-with-a-single-layer">
<span id="qs-single-layer"></span><h1>1. Map with A Single Layer<a class="headerlink" href="#map-with-a-single-layer" title="Lien permanent vers ce titre">¶</a></h1>
<p>This first tutorial shows how MapServer can display a dataset on a web page. The layer is
served as a WMS this stands for Web Map Service, which is a &#8220;web-based interoperability service&#8221;
based on specifications published by the Open Geospatial Consortium (OGC).</p>
<p>The data used in this example is a polygon shapefile displaying the world&#8217;s landmass.</p>
<div class="section" id="live-example">
<h2>1.1. Live Example<a class="headerlink" href="#live-example" title="Lien permanent vers ce titre">¶</a></h2>
<p>Once you have successfully configured your MapServer you can update the two text boxes
below with your own webserver address, and path to your mapfile.</p>
<p>The results should look the same as below, which is running from a live demo server, with
the data displayed in an <a class="reference external" href="http://openlayers.org/">OpenLayers3 map</a></p>
<!DOCTYPE html>
<html>
    <head>
        <title>Mapserver OL3 viewer</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="http://openlayers.org/en/v3.14.0/css/ol.css" type="text/css">
        <script src="http://openlayers.org/en/v3.14.0/build/ol.js"></script>
    </head>
    <body>
        <form>
            <label>
                Mapserver location:
                <input id="ms-tutorial-location" type="text" value="http://demo.mapserver.org/cgi-bin/mapserv70" />
            </label>
            <label>
                Map file path:
                <input id="mapfile-path" type="text" value="/osgeo/mapserver/tutorial-7.0/single_layer.map" />
            </label>

            <button id="validate-btn" type="submit">Validate</button>
        </form>
        <div id="map" class="map" style="margin: auto; height: 300px; width: 800px"></div>
        <script>
            var map = new ol.Map({
                target: 'map',
                view: new ol.View({
                    center: [-4.5703125, 37.265625],
                    zoom: 2,
                    projection: 'EPSG:4326'
                })
            });

            document.getElementById('validate-btn').addEventListener('click', updateLayers);
            updateLayers();

            function updateLayers(e) {
                if (e) {
                    e.preventDefault();
                }
                var msAddress = document.getElementById('ms-tutorial-location').value;
                if (!msAddress.endsWith('?')) {
                    msAddress += '?';
                }
                var mapfilePath = document.getElementById('mapfile-path').value;
                mapfilePath = 'MAP=' + mapfilePath;
                map.getLayers().getArray().forEach(function (layer) {
                    map.removeLayer(layer);
                });
                var layer = new ol.layer.Tile({
                    source: new ol.source.TileWMS({
                        url: msAddress + mapfilePath,
                        params: {LAYERS: 'land', TILED: true, CRS: 'epsg:4326', VERSION: '1.3.0'},
                        serverType: 'mapserver'
                    })
                });
                map.addLayer(layer);
            }
        </script>
    </body>
</html>
</div>
<div class="section" id="mapfile-structure">
<h2>1.2. Structure d&#8217;un Mapfile<a class="headerlink" href="#mapfile-structure" title="Lien permanent vers ce titre">¶</a></h2>
<p>This is what the mapfile looks like: <a class="reference internal" href="single_layer.map.html#qs-single-layer-map"><span>single_layer.map</span></a>.</p>
<p>The <a class="reference internal" href="../../mapfile/index.html#mapfile"><span>MAPFILE</span></a> is MapServer&#8217;s basic configuration
mechanism. It is made up of &#8220;objects&#8221; and each object can have
keywords or other objects. It has a hierarchical structure such that
some objects are beneath under other objects. At the top of this hierarchy is
the MAP object - to which all other objects belong. This example shows a
very straightforward hierarchy of objects.  As you go through each tutorial step,
the complexity of these hierarchical trees will increase.</p>
<p>Quelques notes à propos des mapfiles: nous définissons chaque objet dans le mapfile avec le nom de l&#8217;objet et nous le fermons avec &#8220;END&#8221; et nous précédons les commentaires avec un signe (#).</p>
<p>Let&#8217;s break &#8220;single_layer.map&#8221; down by objects. Its structure looks like
this:</p>
<div class="highlight-python"><div class="highlight"><pre>MAP
 |-LAYER
    |-CLASS
       |-STYLE
</pre></div>
</div>
<div class="section" id="map-object">
<h3>1.2.1. Objet &#8216;MAP<a class="headerlink" href="#map-object" title="Lien permanent vers ce titre">¶</a></h3>
<p>Jetons un oeil aux mots-clés (paramètres) appartenant à l&#8217;objet MAP:</p>
<dl class="docutils">
<dt><strong>MAP</strong></dt>
<dd>Every mapfile must start with the <a class="reference internal" href="../../mapfile/map.html#map"><span>MAP</span></a> object &#8211; the
entire mapfile is the MAP object.</dd>
<dt><strong>IMAGETYPE</strong></dt>
<dd>The keyword IMAGETYPE is used to define which image formats MapServer
can generate. In this example we are using PNG images as an output. These
are discussed further in the <a class="reference internal" href="../advanced/output_formats.html#adv-output-formats"><span>output formats tutorial</span></a></dd>
<dt><strong>EXTENT</strong></dt>
<dd>This parameter specifies the output extent of our map&#8211;the bounding
box of our initial map.  The EXTENT values are given in this
format:</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre>&lt;Lower Left X&gt; &lt;Lower Left Y&gt; &lt;Upper Right X&gt; &lt;Upper Right Y&gt;
</pre></div>
</div>
<p>with spaces separating each value. In this example our data is in geographic
projection so the units are in decimal degrees.</p>
<dl class="docutils">
<dt><strong>SIZE</strong></dt>
<dd><p class="first last">C&#8217;est la taille de l&#8217;image (la carte) que MapServer va générer, en pixels. Ainsi notre carte fait 400 pixels de large par 300 pixels de haut. A nouveau, changez comme vousle sentez ces valeurs et voyez les changements sur la carte.</p>
</dd>
<dt><strong>IMAGECOLOR</strong></dt>
<dd><p class="first last">C&#8217;est la couleur du fond de votre carte. Les valeurs sont des valeurs RGB ainsi 255 Rouge, 255 Vert, 255 Bleu donneront un fond blanc. Poursuivez et jouez avec ces valeurs.</p>
</dd>
</dl>
</div>
<div class="section" id="layer-object">
<h3>1.2.2. Objet LAYER<a class="headerlink" href="#layer-object" title="Lien permanent vers ce titre">¶</a></h3>
<p>Now let&#8217;s look at the <a class="reference internal" href="../../mapfile/layer.html#layer"><span>LAYER</span></a> object:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span class="k">LAYER</span>
    <span class="k">NAME</span> <span class="s">&#39;land&#39;</span>
    <span class="k">TYPE</span> <span class="nb">POLYGON</span>
    <span class="k">PROJECTION</span>
        <span class="s">&#39;init=epsg:4326&#39;</span>
    <span class="k">END</span>
    <span class="k">DATA</span> <span class="s">&#39;natural_earth/110m_physical/ne_110m_land/ne_110m_land.shp&#39;</span>
    <span class="c"># START OF THE CLASS DEFINITION</span>
    <span class="k">CLASS</span>
        <span class="c"># START OF THE STYLE DEFINITION</span>
        <span class="k">STYLE</span>
            <span class="k">COLOR</span> <span class="mi">238</span> <span class="mi">236</span> <span class="mi">223</span>
            <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">0</span>
            <span class="k">WIDTH</span> <span class="mf">1.5</span>
        <span class="k">END</span>
        <span class="c"># END OF THE STYLE DEFINITION</span>
    <span class="k">END</span>
    <span class="c"># END OF THE CLASS DEFINITION</span>
<span class="k">END</span>
</pre></div>
</div>
<dl class="docutils">
<dt><strong>LAYER</strong></dt>
<dd>Marks the beginning of a LAYER within the MAP
object.  You can specify as many layers as you like.</dd>
<dt><strong>NAME</strong></dt>
<dd>This is the layer identifier and has to be unique for each layer.
This is also the name of the WMS layer.</dd>
<dt><strong>DATA</strong></dt>
<dd>The name of the data (Shapefile dataset in this case). MapServer
supports many different vector data formats which are discussed further in
the <a class="reference internal" href="datasources.html#qs-datasources"><span>data sources tutorial</span></a>.</dd>
<dt><strong>TYPE</strong></dt>
<dd>What type of data is it? If it&#8217;s vector data, you can specify
whether it is a POLYGON, LINE, or POINT. You can also specify RASTER or
ANNOTATION data. Here we want to display POLYGON.</dd>
</dl>
</div>
<div class="section" id="class-object">
<h3>1.2.3. Objet CLASS<a class="headerlink" href="#class-object" title="Lien permanent vers ce titre">¶</a></h3>
<p>Let&#8217;s look at the <a class="reference internal" href="../../mapfile/class.html#class"><span>CLASS</span></a> object:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span class="k">CLASS</span>
    <span class="c"># START OF THE STYLE DEFINITION</span>
    <span class="k">STYLE</span>
        <span class="k">COLOR</span> <span class="mi">238</span> <span class="mi">236</span> <span class="mi">223</span>
        <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">0</span>
        <span class="k">WIDTH</span> <span class="mf">1.5</span>
    <span class="k">END</span>
    <span class="c"># END OF THE STYLE DEFINITION</span>
<span class="k">END</span>
</pre></div>
</div>
<dl class="docutils">
<dt><strong>CLASS</strong></dt>
<dd>Marks the beginning of a CLASS object within the
LAYER object. You can specify as many classes within a layer.</dd>
<dt><strong>NAME</strong></dt>
<dd>The descriptive identifier for this CLASS. LAYER objects can have
multiple classes, just like MAP objects can have multiple layers.
CLASS names are used by MapServer as labels for the legend so make
sure to use an appropriate descriptive name when naming classes.</dd>
</dl>
</div>
<div class="section" id="style-object">
<h3>1.2.4. Objet STYLE<a class="headerlink" href="#style-object" title="Lien permanent vers ce titre">¶</a></h3>
<p>And finally, let&#8217;s look at the <a class="reference internal" href="../../mapfile/style.html#style"><span>STYLE</span></a> object:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span class="k">STYLE</span>
    <span class="k">COLOR</span> <span class="mi">238</span> <span class="mi">236</span> <span class="mi">223</span>
    <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">0</span>
    <span class="k">WIDTH</span> <span class="mf">1.5</span>
<span class="k">END</span>
</pre></div>
</div>
<dl class="docutils">
<dt><strong>STYLE</strong></dt>
<dd>Marks the beginning of the STYLE object.  You can
define multiple styles within a class.  This is useful when you
want to overlay a style over another.</dd>
<dt><strong>COLOR</strong></dt>
<dd>This is the fill color of the polygon. If the LAYER TYPE is LINE,
this is the line color. The values are in RGB format.</dd>
<dt><strong>OUTLINECOLOR</strong></dt>
<dd><p class="first last">C&#8217;est la couleur du contour des polygones. Les valeurs sont en format RGB. MapServer ne dessine pas les contours des polygones par défaut, ainsi si vous voulez voir les contours des polygones, vous voudrez alors définir une OUTLINECOLOR.</p>
</dd>
</dl>
<p>Cela termine le premier exemple dans ce tutoriel. Vous êtes encouragés à changer les valeurs des mots-clés dans le mapfile. Cela vous aidera à comprendre ce que font ces mots-clés.</p>
<hr class="docutils" />
<p><a class="reference internal" href="../index.html#tutorial"><span>Back to tutorial index</span></a> | <a class="reference internal" href="two_layers.html#qs-two-layers"><span>Proceed to next tutorial</span></a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../../development/index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Map with A Single Layer</a><ul>
<li><a class="reference internal" href="#live-example">1.1. Live Example</a></li>
<li><a class="reference internal" href="#mapfile-structure">1.2. Structure d&#8217;un Mapfile</a><ul>
<li><a class="reference internal" href="#map-object">1.2.1. Objet &#8216;MAP</a></li>
<li><a class="reference internal" href="#layer-object">1.2.2. Objet LAYER</a></li>
<li><a class="reference internal" href="#class-object">1.2.3. Objet CLASS</a></li>
<li><a class="reference internal" href="#style-object">1.2.4. Objet STYLE</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
    </div>

    

    
  </body>
</html>