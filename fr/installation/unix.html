<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Compiler sous Unix &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="Installation" href="index.html" />
    <link rel="next" title="Compiler sous Win32" href="win32.html" />
    <link rel="prev" title="Installation" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../installation/unix.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/installation/unix.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/installation/unix.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/installation/unix.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/installation/unix.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/installation/unix.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/installation/unix.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/installation/unix.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/installation/unix.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/installation/unix.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/installation/unix.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/installation/unix.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/installation/unix.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        
          
            <a href="../../uk/installation/unix.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="win32.html" title="Compiler sous Win32"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="index.html" title="Installation"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation de MapServer 7.0.0</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Installation</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="compiling-on-unix">
<span id="unix"></span><span id="index-0"></span><h1><a class="toc-backref" href="#table-of-contents">Compiler sous Unix</a><a class="headerlink" href="#compiling-on-unix" title="Lien permanent vers ce titre">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">J.F. Doyon</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">jdoyon at nrcan.gc.ca</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Howard Butler</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">hobu.inc at gmail.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Thomas Bonfort</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">thomas.bonfort at gmail.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body"><p class="first last">21-05-2015</p>
</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table des matières</p>
<ul class="simple">
<li><a class="reference internal" href="#compiling-on-unix" id="id5">Compiler sous Unix</a><ul>
<li><a class="reference internal" href="#introduction" id="id6">Introduction</a></li>
<li><a class="reference internal" href="#obtaining-the-necessary-software" id="id7">Obtenir le logiciel nécessaire</a></li>
<li><a class="reference internal" href="#anti-grain-geometry-support" id="id8">Support de Anti-Grain Geometry (AGG)</a></li>
<li><a class="reference internal" href="#ogc-support" id="id9">Support OGC</a></li>
<li><a class="reference internal" href="#spatial-warehousing" id="id10">Entrepôts de données spatiales</a></li>
<li><a class="reference internal" href="#compiling" id="id11">Compiler</a></li>
<li><a class="reference internal" href="#installation" id="id12">Installation</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#table-of-contents">Introduction</a><a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Mapserver de l&#8217;Université du Minnesota est un moteur de rendu cartographique pour le web, open-source et librement disponible. Par sa nature open-source, il peut être compilé sur sur une large variété de plateformes et de systèmes d&#8217;exploitation. Nous allons nous concentrer sur comment obtenir, compiler et installer MapServer sur des plateformes de type UNIX.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les options détaillées de configuration sont maintenu dans le fichier <a class="reference external" href="https://github.com/mapserver/mapserver/blob/master/INSTALL.CMAKE">INSTALL.CMAKE</a> packagé à la racine du répertoire source.</p>
</div>
<p>Vous devriez peut-être vérifier la page de wiki <a href="#id1"><span class="problematic" id="id2">``</span></a>MapServerCompilation`_  pour des informations supplémentaires.</p>
</div>
<div class="section" id="obtaining-the-necessary-software">
<h2><a class="toc-backref" href="#table-of-contents">Obtenir le logiciel nécessaire</a><a class="headerlink" href="#obtaining-the-necessary-software" title="Lien permanent vers ce titre">¶</a></h2>
<p>Vous pouvez obtenir le code source de MapServer aussi bien le paquet de démo depuis la section <a class="reference internal" href="../download.html#download"><span>Téléchargement</span></a>.</p>
<p>Vous pouvez aussi obtenir la dernière version du code source de MapServer depuis le <a class="reference internal" href="../development/git.html#git"><span>GitHub</span></a>.</p>
<div class="section" id="required-external-libraries">
<h3>Bibliothèques externes requises<a class="headerlink" href="#required-external-libraries" title="Lien permanent vers ce titre">¶</a></h3>
<ul>
<li><p class="first"><a class="reference external" href="http://www.libpng.org/pub/png/libpng.html">libpng</a>: libpng should be on your system by default.  Versions
back to 1.2.7 should work.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.freetype.org/">freetype</a> : la version 2.x ou supérieure est requise.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.ijg.org/">libjpeg</a>: libjpeg allows MapServer to render
images in JPEG format.  A sufficient version should be installed by
default on your system (probably version 6b from 1998).</p>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Direct JPEG support was deprecated in MapServer 5.8+, and you
should now depend on GDAL for raster read support in
MapServer. JPEG support is however still required for
producing (i.e. writing) images.</p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://www.gzip.org/zlib">zlib</a>: Zlib should be on your system by default.  Though not used
directly by mapserver, it&#8217;s a mandatory dependency of libpng.</p>
</li>
</ul>
</div>
<div class="section" id="highly-recommended-libraries">
<h3>Bibliothèques fortement recommandées<a class="headerlink" href="#highly-recommended-libraries" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p class="first"><a class="reference external" href="http://trac.osgeo.org/proj/">libproj</a> : libproj fournit le support des projections pour MapServer. La version 4.4.6 ou supérieure est requise.</p>
</li>
<li><a class="reference external" href="http://curl.haxx.se/libcurl/">libcurl</a>: libcurl is the foundation of OGC (WFS/WMS/WCS) client
and server support.  Version 7.10 or greater is required.</li>
<li><a class="reference external" href="http://www.gdal.org/">OGR</a>: OGR provides access to a lot of vector formats.</li>
<li><a class="reference external" href="http://www.gdal.org/">GDAL</a>: GDAL provides access to a lot of
raster formats.</li>
</ul>
</div>
<div class="section" id="optional-external-libraries">
<h3>Bibliothèques externes optionnelles<a class="headerlink" href="#optional-external-libraries" title="Lien permanent vers ce titre">¶</a></h3>
<ul>
<li><p class="first"><a class="reference external" href="http://trac.osgeo.org/geos/">GEOS</a> : GEOS permet à MapServer de faire des prédicats spatiaux et des opérations algébriques (A l&#8217;intérieur, touches, etc &amp; union, différence, intersection).</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 4.10.</span></p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://xmlsoft.org">libxml</a> : libxml est requis pour utiliser le support <a class="reference internal" href="../ogc/sos_server.html#sos-server"><span>SOS OGC</span></a> dans MapServer</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 4.10.</span></p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://www.oracle.com/technology/products/spatial/index.html">Oracle Spatial OCI</a> : Les bibliothèques clientes pour votre plateforme sont disponibles au téléchargement depuis le site de Oracle. Idéalement, votre bibliothèque cliente correspond à la version de la base de données que vous interrogez, mais ce n&#8217;est pas une exigence contraignante.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.postgresql.org/">libpq</a> : libpq est requis pour gérer l&#8217;usage des géométries PostGIS dans la base de données PostgreSQL. Idéalement, votre bibliothèque cliente correspond à la version de la base de données que vous interrogez.</p>
</li>
<li><p class="first"><a class="reference external" href="http://giflib.sourceforge.net/">giflib</a>: libgif / <a class="reference external" href="https://launchpad.net/ubuntu/precise/+package/libgif-dev">libgif</a> is is used for reading GIF files used
as PIXMAP symbols.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.fastcgi.com">FastCGI</a> : FastCGI est un protocole populaire pour interfacer MapServer avec plusieurs serveurs web. Vous devrez installer le paquet de développement. Plus de détails sur la manière d&#8217;utiliser cette fonctionnalité dans MapServer se trouve ici  <a class="reference internal" href="../optimization/fastcgi.html#fastcgi"><span>FastCGI</span></a>. Sous Ubuntu, ce pourrait être :</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ apt-get -y install libfcgi-dev
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://cairographics.org/">Cairo (SVG, PDF) support</a>: This library is required to produce PDF
and SVG outputs.  If you&#8217;re on an ubuntu system, it can be installed
with &#8220;apt-get install -y libcairo2-dev&#8221;</p>
</li>
<li><p class="first"><a class="reference external" href="http://mapserver.org/output/kml_output.html">KML support</a>: This renderer is has no external dependency.</p>
</li>
</ul>
<span class="target" id="index-1"></span><ul id="index-2">
<li><p class="first"><a class="reference external" href="http://freedesktop.org/wiki/Software/HarfBuzz">HarfBuff</a>: Support complex script shaping (to simplify: the tool
that will insert ligatures between characters).  Harfbuzz algorithms
will be applied on text strings that have been determined to not be
latin (i.e. the slowdown induced by harfbuzz is limited to those
languages that actually require shaping).  Requires <a class="reference external" href="http://fribidi.org/">FriBidi</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last"><a class="reference internal" href="../development/rfc/ms-rfc-98.html#rfc98"><span>MS RFC 98: Label/Text Rendering Overhaul</span></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 7.0.</span></p>
</div>
</li>
<li><p class="first">MySQL: Support joining with MySQL (the WITH_MYSQL option).</p>
</li>
</ul>
</div>
<div class="section" id="optional-features">
<h3>Fonctionnalités optionnelles<a class="headerlink" href="#optional-features" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://mapserver.org/development/rfc/ms-rfc-73.html">Cairo SVG parser support</a>: The WITH_SVGCAIRO option is part of a
proposal to improve SVG support.  Using this feature requires
installing the libsvg-cairo library available here:
<a class="reference external" href="http://cairographics.org/snapshots/">http://cairographics.org/snapshots/</a> .  You will need to compile and
install cairo, libsvg, and libsvg-cairo.</li>
<li>SVG support can be enabled either through the unmaintained libsvg /
libsvg-cairo combo, or through librsvg (the WITH_RSVG option) at the
cost of more dependencies. Use librsvg if your distro provides a
package for it, or fall back to libsvgcairo if the cost of compiling
the librsvg dependencies is too important.</li>
</ul>
</div>
</div>
<div class="section" id="anti-grain-geometry-support">
<h2><a class="toc-backref" href="#table-of-contents">Support de Anti-Grain Geometry (AGG)</a><a class="headerlink" href="#anti-grain-geometry-support" title="Lien permanent vers ce titre">¶</a></h2>
<p>Depuis la version 5.0 MapServer gère le moteur de rendu AGG. MapServer 5.6 et supérieur l&#8217;inclut directement dans ses sources et vous n&#8217;avez plus rien à faire de spécifique pour le gérer.</p>
</div>
<div class="section" id="ogc-support">
<h2><a class="toc-backref" href="#table-of-contents">Support OGC</a><a class="headerlink" href="#ogc-support" title="Lien permanent vers ce titre">¶</a></h2>
<p>MapServer fourni la gestion de plusieurs spécifications <a class="reference external" href="http://www.opengeospatial.org">OGC</a> . Pour un aperçu, lisez <a class="reference internal" href="../ogc/ogc_support.html#ogc-support"><span>Support des spécifications OGC dans MapServer</span></a>.</p>
<div class="section" id="wms-support">
<h3>Support WMS<a class="headerlink" href="#wms-support" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="wms-server">
<h4>Serveur WMS<a class="headerlink" href="#wms-server" title="Lien permanent vers ce titre">¶</a></h4>
<p>La gestion du <cite>WMS server</cite> est automatiquement activée.</p>
<p>Vous pouvez vérifier ceci par vous-même en cherchant ce genre de votre sortie &#8220;configure&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * WMS SERVER: ENABLED
</pre></div>
</div>
<p>Si, pour une raison quelconque vous ne voulez pas du support WMS, vous pouvez forcez sa désactivation en utilisant &#8220;-DWITH_WMS=OFF&#8221;.</p>
<p>Plus d&#8217;informations pour utiliser cette fonctionnalité est disponible dans <a class="reference internal" href="../ogc/wms_server.html#wms-server"><span>Serveur WMS</span></a>.</p>
</div>
<div class="section" id="wms-client">
<h4>Client WMS<a class="headerlink" href="#wms-client" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le fonctionnement en cascade est aussi supporté. Il permet à Mapserver de récupérer de manière transparente des couches distantes via le WMS, en jouant basiquement le rôle d&#8217;un client, et en les combinant avec d&#8217;autres couches pour générer la carte finale.</p>
<p>Afin d&#8217;activer cette fonctionnalité, vous aurez besoin de passer l&#8217;option WITH_CLIENT_WMS  au script configure. MapServer essayera automatiquement de chercher libcurl, qui est aussi requis.</p>
<p>Pour vérifier que cette fonctionnalité est activée, vérifiez que la sortie de configure contient:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * WMS CLIENT: ENABLED
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notez que cette fonctionnalité est désactivée par défaut, vous devez l&#8217;activez volontairement.</p>
</div>
<p>Plus d&#8217;informations pour utiliser cette fonctionnalité est disponible sur <a class="reference internal" href="../ogc/wms_client.html#wms-client"><span>Client WMS</span></a>.</p>
</div>
</div>
<div class="section" id="wfs-support">
<h3>Support WFS<a class="headerlink" href="#wfs-support" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="wfs-server">
<h4>Serveur WFS<a class="headerlink" href="#wfs-server" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le support pour le <cite>WFS server</cite> est activé par défaut. Le support de OGR et PROJ.4 est requis.</p>
<p>Pour vérifier que cette fonctionnalité est activée, vérifiez que la sortie de configure contient:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * WFS SERVER: ENABLED
</pre></div>
</div>
<p>Si, pour une raison quelconque vous ne voulez pas du support WFS, vous pouvez forcez sa désactivation en utilisant &#8220;-DWITH_WFS=OFF&#8221;.</p>
<p>Plus d&#8217;informations pour utiliser cette fonctionnalité est disponible sur <a class="reference internal" href="../ogc/wfs_server.html#wfs-server"><span>Serveur WFS</span></a>.</p>
</div>
<div class="section" id="wfs-client">
<h4>Client WFS<a class="headerlink" href="#wfs-client" title="Lien permanent vers ce titre">¶</a></h4>
<p>MapServer peut aussi fonctionner comme un client WFS.  Cela veut dire effectivement que MapServer lit des données depuis la sortie d&#8217;un serveur WFS distant et génère depuis celle-ci une carte, comme il le ferait en lisant la donnée depuis un fichier shapefile.</p>
<p>Afin d&#8217;activer cette fonctionnalité, vous aurez besoin de vous assurer d&#8217;avoir le support de OGR (avec Xerces activé) et de PROJ.4 et de passer l&#8217;option WITH_CLIENT_WFS  à votre script configure. MapServer essayera automatiquement de chercher libcurl, qui est aussi requis.</p>
<p>Pour vérifier que cette fonctionnalité est activée, vérifiez que la sortie de configure contient:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * WFS CLIENT: ENABLED
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notez que cette fonctionnalité est désactivée par défaut, vous devez l&#8217;activez volontairement.</p>
</div>
<p>Plus d&#8217;informations pour utiliser cette fonctionnalité est disponible sur <a class="reference internal" href="../ogc/wfs_client.html#wfs-client"><span>Client WFS</span></a></p>
</div>
<div class="section" id="wcs-server">
<h4>Serveur WCS<a class="headerlink" href="#wcs-server" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le support pour le <cite>WCS server</cite> est activé par défaut. WCS doit être compilé avec certaines bibliothèques. Plus d&#8217;information sur ce service est disponible dans <a class="reference internal" href="../ogc/wcs_server.html#wcs-server"><span>Serveur WCS</span></a>.</p>
<p>Pour vérifier que cette fonctionnalité est activée, vérifiez que la sortie de configure contient:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * WCS SERVER: ENABLED
</pre></div>
</div>
<p>Si, pour une raison quelconque vous ne voulez pas du support WCS, vous pouvez forcez sa désactivation en utilisant &#8220;-DWITH_WCS=OFF&#8221;.</p>
</div>
<div class="section" id="sos-server">
<h4>Serveur SOS<a class="headerlink" href="#sos-server" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le support de SOS est activé en utilisant l&#8217;option WITH_SOS. Plus d&#8217;information sur ce service est disponible dans <a class="reference internal" href="../ogc/sos_server.html#sos-server"><span>Serveur SOS</span></a>.</p>
<p>Pour vérifier que cette fonctionnalité est activée, vérifiez que la sortie de configure contient:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * SOS SERVER: ENABLED
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notez que cette fonctionnalité est désactivée par défaut, vous devez l&#8217;activez volontairement.</p>
</div>
</div>
</div>
</div>
<div class="section" id="spatial-warehousing">
<h2><a class="toc-backref" href="#table-of-contents">Entrepôts de données spatiales</a><a class="headerlink" href="#spatial-warehousing" title="Lien permanent vers ce titre">¶</a></h2>
<p>MapServer peut utiliser une large variété de données en entrée. Une des solutions qui grandit en popularité est d&#8217;utiliser des bases de données avec une cartouche spatiale pour stocker la donnée, et de les utiliser directement pour dessiner les cartes pour le web.</p>
<p>Ici, vous trouverez comment activer Mapserver pour qu&#8217;il se connecte sur l&#8217;un de ces produits. Merci de vous référer à la référence MapFile pour plus de détails comment les utiliser. Cette section détaille seulement comment compiler Mapserver pour leur utilisation.</p>
<div class="section" id="postgis">
<h3>PostGIS<a class="headerlink" href="#postgis" title="Lien permanent vers ce titre">¶</a></h3>
<p><a href="#id2"><span class="problematic" id="id3">`PostGIS`__</span></a> ajoute le support des objets géographiques dans la base de données realtionnelle <a href="#id2"><span class="problematic" id="id4">`PostgreSQL`__</span></a> . En fait,PostGIS &#8220;rend spatial&#8221; le serveur PostgreSQL, lui permettant d&#8217;être utilisé comme un base données spatial &#8220;backend&#8221; pour les systèmes d&#8217;information géographique (SIG), à la manière de SDE de ESRI&#8217;ou de l&#8217;extension spatiale de Oracle. PostGIS est inclus dans de nombreuses distributions, mais vous pouvez aussi faire tourner votre propre version si c&#8217;est nécessaire.</p>
<p>MapServer peut utiliser PostGIS comme source de données. Le support de PostGIS est activé par défaut.</p>
<p>Pour vérifier que cette fonctionnalité est activée, vérifiez que la sortie de configure contient:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * POSTGIS: /usr/local/pgsql/lib/libpq.so
</pre></div>
</div>
<p>Si, pour une raison quelconque vous ne voulez pas du support PostGIS, vous pouvez forcez sa désactivation en utilisant &#8220;-DWITH_POSTGIS=OFF&#8221;. Pour aider cmake à trouver votre installation de PostGIS, vous pouvez utiliser l&#8217;option CMAKE_PREFIX_PATH  (par exemple &#8220;-DCMAKE_PREFIX_PATH=/usr/local/pgsql&#8221;).</p>
</div>
<div class="section" id="oracle-spatial">
<h3>Oracle Spatial<a class="headerlink" href="#oracle-spatial" title="Lien permanent vers ce titre">¶</a></h3>
<p>La cartouche spatiale de Oracle est aussi gérée par MapServer. Pour vous connecter dessus, vous devez compiler MapServer avec les bibliothèques Oracle en définissant l&#8217;option WITH_ORACLESPATIAL. Vous aurez probablement besoin que la variable d&#8217;environnement ORACLE_HOME soit définie pour avoir une configuration des choses correcte.</p>
<p>Pour vérifier que cette fonctionnalité est activée, vérifiez que la sortie de configure contient:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>--   * Oracle Spatial: &lt;path to oracle spatial shared library&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="compiling">
<h2><a class="toc-backref" href="#table-of-contents">Compiler</a><a class="headerlink" href="#compiling" title="Lien permanent vers ce titre">¶</a></h2>
<p>En premier, préparez le terrain en vous assurant que toutes les bibliothèques requises et/ou recommandées sont installées avant de tenter de compiler MapServer. Cela vous rendra la vie beaucoup moins compliquée ;). Voici l&#8217;ordre que j&#8217;utilise habituellement:</p>
<ol class="arabic">
<li><p class="first">Compilez GDAL/OGR. Décrire comment compiler GDAL/OGR est au delà du cadre de ce document. Si vous avez des besoins pour de nombreux formats, assurez-vous d&#8217;installer ces bibliothèques en premier. Je trouve souvent que compiler GDAL/OGR  prend autant de tant que MapServer lui-même!</p>
</li>
<li><p class="first">Compilez Proj.4.  Proj.4 est une bibliothèque qui s&#8217;installe avec une suite directe de configure/make/make install.</p>
</li>
<li><p class="first">Compiler libcurl. libcurl est une bibliothèque qui s&#8217;installe simplement avec les étapes configure/make/make install. Cette bibliothèque est seulement utilisée avec d&#8217;autres fonctionnalités, donc &#8220;&#8211;with-curl-config&#8221; ne fera rien sauf si quelque chose comme &#8220;&#8211;with-wmsclient&#8221; ou &#8220;&#8211;with-wfsclient&#8221; sont aussi sélectionnés.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous voulez configurer MapServer pour utiliser SSL lors de l&#8217;accès au serveur WMS/WFS libcurl doit être configuré / compilé avec l&#8217;option &#8220;&#8211;with-ssl&#8221;. Les détails sur la manière de réaliser cela sont indiqués sur <a class="reference internal" href="../ogc/wxs_secure.html#wxs-secure"><span>Comment configurer MapServer comme client pour accéder à un service via https</span></a>.</p>
</div>
</li>
<li><p class="first">Compile/install optional libraries.  These might include PostGIS,
Oracle Spatial, AGG, Ming, PDFlib, or MyGIS.  Mix and match as you need
them.</p>
</li>
<li><p class="first">Décompressez le tarball MapServer et allez dans le répertoire mapserver:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ tar -zxvf mapserver-X.Y.Z.tar.gz
</pre></div>
</div>
</li>
<li><p class="first">Créez le répertoire build et configurez votre environnement.</p>
<p>Créez le répertoire de compilation:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ cd mapserver-X.Y.Z
$ mkdir build
$ cd build
</pre></div>
</div>
<p>Configurez votre environnement avec &#8220;cmake&#8221; (c&#8217;est un exemple):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ cmake -DCMAKE_INSTALL_PREFIX=/opt \
        -DCMAKE_PREFIX_PATH=/usr/local/pgsql/91:/usr/local:/opt \
        -DWITH_CLIENT_WFS=ON \
        -DWITH_CLIENT_WMS=ON \
        -DWITH_CURL=ON \
        -DWITH_SOS=ON \
        -DWITH_PHP=ON \
        -DWITH_PERL=ON \
        -DWITH_RUBY=ON \
        -DWITH_JAVA=ON \
        -DWITH_CSHARP=ON \
        -DWITH_PYTHON=ON \
        -DWITH_SVGCAIRO=ON \
        -DWITH_ORACLESPATIAL=ON \
        -DWITH_MSSQL2008=ON \
        ../ &gt;../configure.out.txt
</pre></div>
</div>
<p>The following options are enabled by default (version 7.0:
WITH_PROJ, WITH_WMS, WITH_FRIBIDI, WITH_HARFBUFF, WITH_ICONV,
WITH_CAIRO, WITH_FCGI, WITH_GEOS, WITH_POSTGIS, WITH_GDAL,
WITH_OGR, WITH_WFS, WITH_WCS, WITH_LIBXML2, WITH_GIF.</p>
<p>Si vous voulez aussi générer une version statique de la librairie, les options BUILD_STATIC et LINK_STATIC_LIBMAPSERVER peut être utilisées,</p>
<p>Il y a de nombreuses autres options disponibles. Pour une liste à jour des options disponibles pour cmake, veuillez vous référer au fichier CMakeLists.txt.</p>
<p>Cela peut être une bonne idée de mettre les commandes de configuration dans un fichier et de le rendre exécutable (+x). Cela permet d&#8217;éviter de les saisir à nouveau et aussi de pouvoir retrouver comment MapServer a été configuré.</p>
</li>
<li><p class="first">Maintenant que vous avez configuré vos options de compilation et sélectionné les librairies que vous voulez que MapServer puisse utiliser, vous êtes prêt à compiler le code source.</p>
<p>C&#8217;est actuellement plutôt simple, exécutez seulement &#8220;make&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ make
</pre></div>
</div>
</li>
<li><p class="first">Installer les bibliothèques MapServer:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># make install</span>
</pre></div>
</div>
<p>Pour s&#8217;assurer que tout a bien fonctionné, regardez le fichier appelé <em>mapserv</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ ls -al mapserv
-rwxr-xr-x  1 user user 13745 mars  11 17:45 mapserv
</pre></div>
</div>
<p>Un test simple pour l&#8217;essayer et le lancer</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ ./mapserv
This script can only be used to decode form results and
should be initiated as a CGI process via a httpd server.
</pre></div>
</div>
<p>Le message ci-dessus est tout à fait normal, et signifie exactement ce qu&#8217;il dit. Si vous avez un autre message, quelque chose ne s&#8217;est pas du tout bien passé.</p>
</li>
</ol>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#table-of-contents">Installation</a><a class="headerlink" href="#installation" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="mapserver-binary">
<h3>Binaire Mapserver<a class="headerlink" href="#mapserver-binary" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le programme MapServer lui-même consiste en un seul fichier, le binaire exécutable &#8220;mapserv&#8221;. C&#8217;est un exécutable CGI, destiné à être appelé et lancé par votre serveur web.</p>
<p>Dans cette section, nous assumerons que vous faites tourner Apache sous son répertoire par défaut dans /usr/local/apache2. Vous aurez peut-être besoin de privilèges pour éditer votre httpd.conf (le fichier principal de configuration de apache), ou quelqu&#8217;un (comme votre webmaster) pour vous aider avec les détails de configuration.</p>
<p>Si vous n&#8217;avez pas Apache installé et que vous le voulez ainsi que php, fastcgi, etc cela sera fait avec quelques choses comme cela :</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ apt-get install -y apache2 apache2-mpm-worker libapache2-mod-fastcgi
$ a2enmod actions fastcgi alias
$ apt-get install libapache2-mod-php5 php5-common php5-cli php5-fpm php5
</pre></div>
</div>
<p>Le but principal est d&#8217;obtenir le binaire &#8220;mapserv&#8221; installé dans dans un répertoire accessible publiquement qui soit configuré pour lancer des scripts et des programmes CGI.</p>
<ol class="arabic">
<li><p class="first">Localiser votre répertoire cgi-bin. Avec une configuration par défaut, le répertoire CGI est &#8220;/usr/local/apache2/cgi-bin&#8221; (Les utilisateurs RedHat utiliseront &#8220;/home/httpd/cgi-bin&#8221;, ceux de Debian : &#8220;/usr/lib/cgi-bin&#8221;). Si vous utilisez Apache, il devrait y avoir une directive ScriptAlias dans votre http.conf, ou dans le site par défaut quelque chose comme cela :</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ cat /etc/apache2/sites-available/default | grep &#39;cgi-bin&#39;
ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
</pre></div>
</div>
</li>
<li><p class="first">Localisez le chemin d&#8217;installation de votre exécutable fraîchement installé. Cela est affiché quand vous lancez &#8220;make install&#8221;, quelque chose comme cela :</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>-- Installing: /usr/local/bin/mapserv
-- Set runtime path of &quot;/usr/local/bin/mapserv&quot; to
      &quot;/usr/local/lib:/usr/local/pgsql/91/lib&quot;
</pre></div>
</div>
</li>
<li><p class="first">Vous voudrez mettre en place un lien symbolique vers l&#8217;exécutable de votre répertoire cgi-bin:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ln -s /usr/local/bin/mapserv /usr/lib/cgi-bin/mapserv</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Assurez vous de vous lier avec un fichier mapserv installé (après avoir lancé &#8216;make install&#8217;) et PAS avec l&#8217;endroit où il a été compilé.</p>
</div>
</li>
</ol>
<div class="section" id="testing-your-new-install">
<h4>Tester votre nouvelle installation<a class="headerlink" href="#testing-your-new-install" title="Lien permanent vers ce titre">¶</a></h4>
<p>Placer le fichier mapserv dans ce répertoire le rend accessible par l&#8217;URL suivante : &#8220;<a class="reference external" href="http://yourhostname.com/cgi-bin/mapserv">http://yourhostname.com/cgi-bin/mapserv</a>&#8221;. Quand vous accédez à cette URL via votre client web, vous devriez attendre la sortie suivante si tout a bien fonctionné: &#8220;No query information to decode. QUERY_STRING is set, but empty.&#8221;. Si vous avez ce message, vous avez fini avec l&#8217;installation de MapServer.</p>
</div>
</div>
<div class="section" id="common-problems">
<h3>Problèmes communs<a class="headerlink" href="#common-problems" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="file-permissions">
<h4>Permissions de fichier<a class="headerlink" href="#file-permissions" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le problème le plus courant que vous êtes susceptible de rencontrer est que quand vous tentez d&#8217;installer le binaire est le problème des droits:</p>
<ul>
<li><p class="first">Vous n&#8217;avez pas les droits d&#8217;écriture sur le répertoire CGI de votre serveur web. Demandez à votre webmaster d&#8217;installer le fichier pour vous.</p>
</li>
<li><p class="first">Le serveur web vous renvoie une erreur &#8220;403 Permission denied&#8221;. Assurez-vous que l&#8217;utilisateur qui fait fonctionner le serveur web (habituellement &#8220;nobody&#8221;) a les droits d&#8217;exécution sur le binaire exécutable. Rendre le fichier exécutable par tous est très bien et sûr:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ chmod o+x mapserv
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="apache-errors">
<h4>Erreurs Apache<a class="headerlink" href="#apache-errors" title="Lien permanent vers ce titre">¶</a></h4>
<p>Vous recevrez peut-être quelques différents types d&#8217;erreurs également si votre configuration de serveur web n&#8217;est pas bonne:</p>
<ul>
<li><p class="first">&#8220;500 Internal server error&#8221; : c&#8217;est un message d&#8217;erreur très générique. Tous ce qu&#8217;il vous dit c&#8217;est que le serveur web n&#8217;a pas réussi à lancer le programme. Vous devriez consulter les logs d&#8217;erreurs du serveur web pour essayer d&#8217;en savoir plus, et peut être solliciter l&#8217;aide de votre webmaster/administrateur système. La documentation Apache a aussi des indications sur la configuration &#8220;cgi-bin&#8221; à l&#8217;adresse <a class="reference external" href="http://httpd.apache.org/docs/2.2/howto/cgi.html">http://httpd.apache.org/docs/2.2/howto/cgi.html</a></p>
<blockquote>
<div><dl class="docutils">
<dt>::</dt>
<dd><p class="first last">Vérifier les logs de votre serveur $ tail /var/log/apache2/error.log</p>
</dd>
</dl>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="where-to-go-once-you-ve-got-it-compiled">
<h3>Où allez après que vous ayez réussi à le compiler<a class="headerlink" href="#where-to-go-once-you-ve-got-it-compiled" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le document <a class="reference internal" href="../introduction.html#introduction"><span>Une introduction à MapServer</span></a> fournit une excellente couverture pour bien débuter avec MapServer.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Compiler sous Unix</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#obtaining-the-necessary-software">Obtenir le logiciel nécessaire</a><ul>
<li><a class="reference internal" href="#required-external-libraries">Bibliothèques externes requises</a></li>
<li><a class="reference internal" href="#highly-recommended-libraries">Bibliothèques fortement recommandées</a></li>
<li><a class="reference internal" href="#optional-external-libraries">Bibliothèques externes optionnelles</a></li>
<li><a class="reference internal" href="#optional-features">Fonctionnalités optionnelles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#anti-grain-geometry-support">Support de Anti-Grain Geometry (AGG)</a></li>
<li><a class="reference internal" href="#ogc-support">Support OGC</a><ul>
<li><a class="reference internal" href="#wms-support">Support WMS</a><ul>
<li><a class="reference internal" href="#wms-server">Serveur WMS</a></li>
<li><a class="reference internal" href="#wms-client">Client WMS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wfs-support">Support WFS</a><ul>
<li><a class="reference internal" href="#wfs-server">Serveur WFS</a></li>
<li><a class="reference internal" href="#wfs-client">Client WFS</a></li>
<li><a class="reference internal" href="#wcs-server">Serveur WCS</a></li>
<li><a class="reference internal" href="#sos-server">Serveur SOS</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#spatial-warehousing">Entrepôts de données spatiales</a><ul>
<li><a class="reference internal" href="#postgis">PostGIS</a></li>
<li><a class="reference internal" href="#oracle-spatial">Oracle Spatial</a></li>
</ul>
</li>
<li><a class="reference internal" href="#compiling">Compiler</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#mapserver-binary">Binaire Mapserver</a><ul>
<li><a class="reference internal" href="#testing-your-new-install">Tester votre nouvelle installation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#common-problems">Problèmes communs</a><ul>
<li><a class="reference internal" href="#file-permissions">Permissions de fichier</a></li>
<li><a class="reference internal" href="#apache-errors">Erreurs Apache</a></li>
</ul>
</li>
<li><a class="reference internal" href="#where-to-go-once-you-ve-got-it-compiled">Où allez après que vous ayez réussi à le compiler</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>